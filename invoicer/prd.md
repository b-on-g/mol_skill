# PRD: Invoicer — Автозаполнение документов по реквизитам

## Проблема

Юристы и бухгалтеры тратят время на ручной перенос реквизитов контрагентов из PDF/скриншотов/текстов в шаблоны документов (акты, счета, договоры). Реквизиты приходят в мессенджерах, на почту, в разных форматах. Нужно: вставил — получил готовый документ.

## Целевая аудитория

- Юристы / помощники юристов
- Бухгалтеры малого бизнеса
- Секретари / офис-менеджеры

## Ценностное предложение

Загрузил реквизиты (текст/PDF) → AI распознал → подставил в шаблон → скачал готовый документ. 3 минуты вместо 30.

## Текущее состояние (MVP v0.1)

- Ввод текста / загрузка PDF/TXT/DOC
- Парсинг реквизитов через LLM (GitHub Model API)
- Генерация "Акт выполненных работ" (захардкожен)
- Подпись/печать (загрузка изображения, сохранение в localStorage)
- Выгрузка: PDF, DOC, печать

## Целевое состояние (v1.0)

### F1. Настраиваемый LLM endpoint
Два поля в настройках: URL (OpenAI-совместимый API) и API-ключ. Позволяет подключить:
- Локальную модель (Ollama, vLLM, llama.cpp server)
- Корпоративный сервер
- Любой OpenAI-совместимый API (OpenAI, Anthropic через proxy, etc.)

Текущий GitHub Model остаётся дефолтом.

### F2. Загружаемые шаблоны документов
Пользователь загружает свой шаблон (DOCX) с плейсхолдерами:
- `{{company_name}}`, `{{inn}}`, `{{kpp}}`, `{{ogrn}}` и т.д.
- `{{date}}`, `{{number}}` — доп. поля
- `{{signature}}` — место для подписи/печати

Система подставляет распознанные реквизиты в плейсхолдеры и отдаёт заполненный документ.

Менеджер шаблонов:
- Загрузка шаблона DOCX
- Список загруженных шаблонов
- Выбор шаблона перед выгрузкой
- Дефолтный шаблон "Акт выполненных работ" (текущий, встроенный)

### F3. Telegram Mini App / бот
Возможность работать через Telegram без установки на компьютер:
- Telegram бот принимает файл/текст с реквизитами
- Парсит через LLM
- Отдаёт заполненный документ обратно в чат
- Или Mini App — полный UI внутри Telegram

### F4. Локальная установка (Docker)
Docker Compose с:
- Веб-приложением (nginx + статика)
- Локальной LLM (Ollama с моделью)
- Без выхода в интернет после установки

### F5. Десктоп (Tauri)
Tauri-приложение для macOS/Windows/Linux. Без браузера, локально.

### F6. Интеграция с 1С (перспектива, не в MVP)
API для обмена данными с 1С.

## Приоритеты

| Фича | Приоритет | MVP v1.0 |
|-------|-----------|----------|
| F1. LLM endpoint | Critical | Да |
| F2. Шаблоны | Critical | Да |
| F3. Telegram | Medium | Нет |
| F4. Docker | High | Да |
| F5. Tauri | Low | Нет |
| F6. 1С | Low | Нет |

## Нефункциональные требования

- Работа без интернета (при локальной LLM)
- Данные не покидают контур пользователя
- Поддержка русского языка
